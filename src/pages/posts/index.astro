---
import PostCard from "../../components/PostCard.astro";
import Layout from "../../layouts/Layout.astro";

interface Post {
  url: string;
  frontmatter: {
    title: string;
    description: string;
    created: string;
  };
}

const posts: Post[] = await Object.values(import.meta.glob<Post>("./*.md", { eager: true }));
---

<Layout title="記事一覧" description="">
    {
        posts
        .sort((a, b) => Number(new Date(b.frontmatter.created)) - Number(new Date(a.frontmatter.created)))
        .map((post) => (
            <PostCard
                url={post.url}
                title={post.frontmatter.title}
                description={post.frontmatter.description}
                created={post.frontmatter.created}
            />
        ))
    }
</Layout>
